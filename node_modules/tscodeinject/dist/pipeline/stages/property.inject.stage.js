import objToExp from "../parsers/objToExp.parser.js";
import { DebugLogger } from "../../utils/Logger.js";
const log = DebugLogger("property.inject.stage.ts");
export default function injectPropertyStage(jcs, workingSource, { key, value, col }) {
    var _a;
    if (!col) {
        log("error", "No expression collection passed to this stage.");
        return workingSource;
    }
    const properties = ((_a = col.get(0)) === null || _a === void 0 ? void 0 : _a.node.properties) || [];
    const objExp = objToExp(jcs, { [key]: value });
    for (let prop of properties)
        objExp.properties.push(prop);
    col.get().replace(objExp);
    return workingSource;
}
